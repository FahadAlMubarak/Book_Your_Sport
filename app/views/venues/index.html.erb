<div class="venue-page-container">
<div data-controller="popup filters">
  <div class="container">
    <div class="search-bar">
      <i class="fa-solid fa-filter" data-action="click->popup#toggle"></i>
    </div>

<%= form_with url: venues_path, method: :get, html: {class: "mb-4", data: {search_venues_target: "form"}} do |f| %>
  <%= f.text_field :search,
                   class: "form-control",
                   placeholder: "Type a venue",
                   value: params[:search],
                   data: {
                     search_venues_target: "input",
                     action: "keyup->search-venues#update"
                   } %>
<% end %>

    <form id="filter-form">
      <div class="filter-form-group">
        <% @sports_categories.each do |sport| %>
          <input type="checkbox" id="sport_<%= sport %>" class="form-check-input venue-checkbox" name="sports[]" value="<%= sport %>">
          <label for="sport_<%= sport %>" class="form-check-label"><%= sport %></label><br>
        <% end %>
      </div>
      <button type="button" class="btn btn-primary mt-3" data-action="click->filters#filter">Filter</button>
    </form>

    <%= render "shared/popup" %>

    <div class="index-content">
      <h1 class="h2 my-3 d-flex justify-content-center">Venues</h1>
      <div data-search-venues-target="list">
        <%= render "list", venues: @venues %>
      </div>
    </div>
  </div>
</div>
</div>
